<html>
<head>
  {{template "header"}}
  <style>
    .table-responsive-stack tr {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
          -ms-flex-direction: row;
              flex-direction: row;
    }


    .table-responsive-stack td,
    .table-responsive-stack th {
      display:block;
    /*      
      flex-grow | flex-shrink | flex-basis   */
      -ms-flex: 1 1 auto;
        flex: 1 1 auto;
    }

    .table-responsive-stack .table-responsive-stack-thead {
      font-weight: bold;
    }

    @media screen and (max-width: 768px) {
      .table-responsive-stack tr {
          -webkit-box-orient: vertical;
          -webkit-box-direction: normal;
              -ms-flex-direction: column;
                  flex-direction: column;
          border-bottom: 3px solid #ccc;
          display:block;
          
      }
      /*  IE9 FIX   */
      .table-responsive-stack td {
          float: left\9;
          width:100%;
      }
    }
  </style>
</head>
<body>
  {{template "navigation" .}}
  {{$permission := .Permission.Role}}
  {{$admin := .Permission.Permissions.Admin}}
  <div>
    <div id="message" class="alert"></div>
    <h1>{{.Title}}</h1>
    <div class="row" id="userTable">
      <div class="col-sm-12">
        <div class="table-responsive">
          <table class="table table-striped table-responsive-stack" id="sorttable">
            <thead class="table-dark" style="position: sticky; top: 0; z-index: 1;">
              <tr>
                <th>Request ID</th>
                <th>SKU</th>
                <th>Description</th>
                <th>Manufacturer Part</th>
                <th>Instructions</th>
                <th>Weight Out</th>
                <th>Weight In</th>
                <th>Difference</th>
                <th>Pieces</th>
                <th>Check Out</th>
                <th>Check In</th>
                <th>Sorter</th>
                <th>Status</th>
                <th>Priority</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <form>
              <tr>
                <td><input type="text" class="form-control" name="requestid" value="1"></td>
                <td><input type="text" class="form-control" name="sku" value="ABC123"></td>
                <td><input type="text" class="form-control" name="description" value="Product 1"></td>
                <td><input type="text" class="form-control" name="manufacturerpart" value="12345"></td>
                <td><input type="text" class="form-control" name="instructions" value="Instructions for Product 1"></td>
                <td><input type="text" class="form-control" name="weightout" value="10 lbs"></td>
                <td><input type="text" class="form-control" name="weightin" value="12 lbs"></td>
                <td><input type="text" class="form-control" name="difference" value="+2 lbs"></td>
                <td><input type="text" class="form-control" name="pieces" value="5"></td>
                <td><input type="date" class="form-control" name="checkout" value="Mar 1, 2023 10:00 AM"></td>
                <td><input type="date" class="form-control" name="checkin" value="Mar 2, 2023 2:00 PM"></td>
                <td><input type="text" class="form-control" name="sorter" value="Sorter A"></td>
                <td><input type="text" class="form-control" name="status" value="Completed"></td>
                <td><input type="text" class="form-control" name="priority" value="High"></td>
                <td></td>
              </tr>
            </form>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  {{template "footer" .}}
  <script>
    $(document).ready(function() {   
      // inspired by http://jsfiddle.net/arunpjohny/564Lxosz/1/
      $('.table-responsive-stack').each(function (i) {
        var id = $(this).attr('id');
        //alert(id);
        $(this).find("th").each(function(i) {
            $('#'+id + ' td:nth-child(' + (i + 1) + ')').prepend('<span class="table-responsive-stack-thead">'+             $(this).text() + ':</span> ');
            $('.table-responsive-stack-thead').hide();
            
        });
      });

      $( '.table-responsive-stack' ).each(function() {
      var thCount = $(this).find("th").length; 
      var rowGrow = 100 / thCount + '%';
      //console.log(rowGrow);
      $(this).find("th, td").css('flex-basis', rowGrow);   
      });

      function flexTable(){
      if ($(window).width() < 768) {
        
      $(".table-responsive-stack").each(function (i) {
        $(this).find(".table-responsive-stack-thead").show();
        $(this).find('thead').hide();
      });
      
      // window is less than 768px   
      } else {
        
        
      $(".table-responsive-stack").each(function (i) {
        $(this).find(".table-responsive-stack-thead").hide();
        $(this).find('thead').show();
      });

      }
      // flextable   
      }      

      flexTable();

      window.onresize = function(event) {
      flexTable();
      };
      // document ready  
      });
  </script>
</body>
</html>